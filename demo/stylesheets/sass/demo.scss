/*
 * magna-charta example stylesheet
 * https://github.com/alphagov/magna-charta
 *
 * Author: Tim Paul
 * Licensed under the MIT license.
 */

// IMPORTED STYLES

@import 'colours';      // Cabinet Office colour palette (feel free to choose your own)

// DEFAULT CHART STYLES

$label-width: 40%;      // Horizontal width taken up by the bar labels
$font-size: 16px;       // The size of the bar value and label text
$bar-padding: 8px;      // The padding between the bar values and the edge of the bar
$bar-spacing: 5px;      // The spacing around the bars
$stack-spacing: 1px;    // For stacked bars, the spacing between each stack in a bar
$caption-side: top;     // Caption alignment. Top or bottom.

// COLOURS
// Can be a single colour or a list of colours. 
// The bars will cycle through the colours in list order.
$colours: $blue, $red, $orange, $purple, $green, $dark-blue;


.mc-table {
  font-size: $font-size;
  border-spacing: 0 $bar-spacing;
  border: 1px solid $light-grey;
  padding: $font-size 0;
  thead{
   display: none;
  }
  $len: length($colours);
  // For single bar charts, colours cycle through rows
  @for $i from 0 to $len {
    tr:nth-child(#{$len}n+#{$i + 1}) td.mc-bar-cell{background-color: nth($colours, $i + 1)}
  }
  &.stacked{
    // Stacked bar charts get a key
    thead {
      display: table-header-group;
      th{
        display: none;
        &.mc-key-cell {
          display: block;
          margin-bottom: $bar-spacing;
          margin-left: 100%;
          padding-left: $bar-spacing;
          border-left: $font-size solid;
          text-align: left;
          font-weight: normal;
        }
        &.total{
          display: none;
        }
      }
    }
    // For stacked bar charts, colours cycle through cells
    @for $i from 0 to $len {
      tr td.mc-bar-cell:nth-child(#{$len}n+#{$i + 2}){background-color: nth($colours, $i + 1)}
      tr th.mc-key-cell:nth-child(#{$len}n+#{$i + 2}){border-left-color: nth($colours, $i + 1)}
    }
  }
  td, th {
    text-align: right;
    padding-right: $bar-spacing;
    margin-right: $stack-spacing;
    border: 0 solid; 
    &.mc-bar-cell { 
      display: inline-block;
      text-align: left;
      padding: $bar-padding 0;
      color: $white;
      text-indent: $bar-padding;
    }
    &.total{
      background-color: transparent !important;
      color: $black;
    }
  }
  caption{
    caption-side: $caption-side;
  }
  .mc-key-cell {
    width: $label-width;
  }

}

